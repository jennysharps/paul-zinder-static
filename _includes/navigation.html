<div class="menu-main-menu-container">
    <ul id="menu-main-menu" class="menu">
        {% for item in site.data.navigation.items %}
            {% assign current = false %}
            {% if page.category == item.url %}
                {% assign current = true %}
            {% elsif item.url == "/" %}
                {% if page.url == "/" %}
                    {% assign current = true %}
                {% endif %}
            {% else %}
                {% assign page_url = page.url | replace: ".html", "" %}
                {% assign item_url = "/" | append: item.url %}
                {% if page_url contains item_url %}
                    {% assign current = true %}
                {% endif %}
            {% endif %}

            <li class="menu-item {% if current %}current-menu-item{% endif %}">
                <a href="{{ item.url | absolute_url }}">{{ item.title }}</a>
            </li>
        {% endfor %}
    </ul>
</div>
